#include<stdio.h>
#include<stdlib.h>
#include<omp.h>
#define NUM_THREADS 5
int A[10][10] = {   {2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
{2, 2, 2, 2, 2, 2, 2, 2, 2, 2},
};
int B[10][10] = {   {10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
{10, 10, 10, 10, 10, 10, 10, 10, 10, 10},
};
int C[10][10];
int main(int argc, char *argv[])
{
int N=10;
int i, j, k;
omp_set_num_threads(NUM_THREADS);
#pragma omp parallel for private(i,j,k) shared(A,B,C,N) schedule(dynamic, 2)
for (i = 0; i < N; i++ ){
#pragma omp parallel for
for (j = 0; j < N; j++ ) {
C[i][j] = 0.0;
for (k = 0; k < N; k++ ){
C[i][j] = C[i][j] + A[i][k] * B[k][j];
}
}
}
for (int i = 0; i < 10; i++){
for (int j=0; j<10; j++){
printf("%d ", C[i][j]);
}
printf("\n");
}
}